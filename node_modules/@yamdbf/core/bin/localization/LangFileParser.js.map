{"version":3,"sources":["localization/LangFileParser.ts"],"names":[],"mappings":";;AAAA,yCAAsC;AAEtC;;;GAGG;AACH;IAOC;;;OAGG;IACI,MAAM,CAAC,SAAS,CAAC,QAAgB,EAAE,YAAoB;QAE7D,MAAM,IAAI,GAAa,IAAI,mBAAQ,CAAC,QAAQ,CAAC,CAAC;QAC9C,MAAM,MAAM,GAAa,YAAY,CAAC,KAAK,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;QACxE,KAAK,MAAM,KAAK,IAAI,MAAM,EAC1B;YACC,MAAM,KAAK,GAAqB,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;YACvE,MAAM,GAAG,GAAW,KAAK,CAAC,CAAC,CAAC,CAAC;YAC7B,MAAM,GAAG,GAAW,KAAK,CAAC,CAAC,CAAC,CAAC;YAC7B,MAAM,KAAK,GAAW,KAAK,CAAC,CAAC,CAAC;iBAC5B,OAAO,CAAC,cAAc,CAAC,aAAa,EAAE,EAAE,CAAC;iBACzC,OAAO,CAAC,cAAc,CAAC,YAAY,EAAE,EAAE,CAAC;iBACxC,IAAI,EAAE,CAAC;YAET,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;YAC1B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;SACpB;QACD,OAAO,IAAI,CAAC;IACb,CAAC;;AA3Bc,yBAAU,GAAW,iEAAiE,CAAC;AACvF,0BAAW,GAAW,IAAI,MAAM,CAAC,cAAc,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;AACjE,4BAAa,GAAW,yBAAyB,CAAC;AAClD,2BAAY,GAAW,UAAU,CAAC;AALlD,wCA8BC","file":"LangFileParser.js","sourcesContent":["import { Language } from './Language';\n\n/**\n * Class for parsing `.lang` files\n * @private\n */\nexport class LangFileParser\n{\n\tprivate static parseBlock: RegExp = /(\\[(\\w+)\\]\\n([\\s\\S]*?))(?=\\n\\n+?(?:## *.*\\n)*\\[\\w+\\]\\n.+|\\n*?$)/;\n\tprivate static parseBlocks: RegExp = new RegExp(LangFileParser.parseBlock, 'g');\n\tprivate static stripComments: RegExp = /^(?!$)\\s*##.*\\n|##.*$/gm;\n\tprivate static trimNewlines: RegExp = /^\\n|\\n$/g;\n\n\t/**\n\t * Parse a given language file string and return a Language\n\t * object containing all the parsed values\n\t */\n\tpublic static parseFile(langName: string, fileContents: string): Language\n\t{\n\t\tconst lang: Language = new Language(langName);\n\t\tconst blocks: string[] = fileContents.match(LangFileParser.parseBlocks);\n\t\tfor (const block of blocks)\n\t\t{\n\t\t\tconst match: RegExpMatchArray = block.match(LangFileParser.parseBlock);\n\t\t\tconst raw: string = match[1];\n\t\t\tconst key: string = match[2];\n\t\t\tconst value: string = match[3]\n\t\t\t\t.replace(LangFileParser.stripComments, '')\n\t\t\t\t.replace(LangFileParser.trimNewlines, '')\n\t\t\t\t.trim();\n\n\t\t\tlang.strings[key] = value;\n\t\t\tlang.raw[key] = raw;\n\t\t}\n\t\treturn lang;\n\t}\n}\n"],"sourceRoot":"../../src"}